@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --pokedex-color: #8b0000;
  --loading-color: #303030;
  --border-dark: #404040;
  --bg-dark: #202020;
  --bg-darker: #181818;
  --bg-screen: #9bbc0f;
  --text-dark: #0f380f;
  --shadow-inset: inset -2px -2px 0 0 #000, inset 2px 2px 0 0 #404040;
  --shadow-inset-reverse: inset 2px 2px 0 0 #000, inset -2px -2px 0 0 #404040;
  
  /* モダンUIのための変数 */
  --primary-color: #e53935;
  --secondary-color: #2196f3;
  --accent-color: #ffc107;
  --surface-color: #ffffff;
  --background-color: #f5f5f5;
  --error-color: #b00020;
  --text-primary: #212121;
  --text-secondary: #757575;
  --border-radius: 12px;
  --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  --transition-speed: 0.2s;
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
}

@layer base {
  body {
    @apply m-0 min-h-screen text-[var(--text-primary)] bg-[var(--background-color)];
    @apply font-sans;
    -webkit-tap-highlight-color: transparent;
    overscroll-behavior-y: none;
  }

  /* ピクセルアートのレンダリングを保持 */
  .pixel-art {
    @apply [image-rendering:pixelated] [-webkit-font-smoothing:none] [-moz-osx-font-smoothing:none];
  }
}

/* モバイルファーストのコンテナ */
.pokedex-container {
  @apply min-h-[100dvh] w-full p-0;
  @apply flex flex-col;
  @apply overflow-hidden;
}

/* モダンなポケデックスデザイン */
.pokedex {
  @apply flex flex-col w-full h-full;
  @apply bg-[var(--surface-color)];
  @apply overflow-hidden;
}

/* ヘッダー部分 */
.pokedex-header {
  @apply sticky top-0 z-10;
  @apply flex items-center justify-between;
  @apply px-4 py-3;
  @apply bg-[var(--primary-color)] text-white;
  @apply shadow-md;
}

/* メインコンテンツエリア */
.pokedex-content {
  @apply flex-1 overflow-hidden;
  @apply flex flex-col;
}

/* ポケモン表示エリア */
.pokemon-display {
  @apply flex-none;
  @apply p-4;
  @apply bg-[var(--surface-color)];
  @apply flex flex-col items-center;
  @apply border-b border-gray-200;
}

/* ポケモンリストエリア */
.pokemon-list-container {
  @apply flex-1 overflow-y-auto;
  @apply bg-[var(--surface-color)];
  scroll-padding-bottom: calc(80px + var(--safe-area-inset-bottom));
}

/* 検索ボックス */
.search-box {
  @apply relative w-full max-w-md mx-auto mb-4;
}

.search-input {
  @apply w-full h-12 px-4 py-2;
  @apply bg-white text-[var(--text-primary)];
  @apply border border-gray-300 rounded-full;
  @apply focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)] focus:border-transparent;
  @apply shadow-sm;
  @apply transition-all duration-[var(--transition-speed)];
  @apply pl-10;
}

.search-icon {
  @apply absolute left-3 top-1/2 transform -translate-y-1/2;
  @apply text-gray-400;
}

.search-suggestions {
  @apply absolute left-0 right-0 top-[48px] mt-1;
  @apply bg-white rounded-[var(--border-radius)];
  @apply border border-gray-200;
  @apply max-h-[300px] overflow-y-auto;
  @apply shadow-lg;
  @apply z-20;
}

.search-suggestion-item {
  @apply flex items-center gap-3 px-4 py-3;
  @apply text-[var(--text-primary)] border-b border-gray-100;
  @apply active:bg-gray-100;
  min-height: 56px;
}

.search-suggestion-item:last-child {
  @apply border-b-0;
}

/* ポケモンカード */
.pokemon-card {
  @apply bg-white rounded-[var(--border-radius)];
  @apply shadow-[var(--card-shadow)];
  @apply overflow-hidden;
  @apply transition-transform duration-[var(--transition-speed)];
  @apply transform scale-100 active:scale-[.98];
  @apply mx-4 my-3;
}

.pokemon-sprite-container {
  @apply w-full aspect-square;
  @apply flex items-center justify-center;
  @apply bg-[var(--bg-screen)];
  @apply relative;
}

.pokemon-sprite {
  @apply w-auto h-auto max-w-full max-h-full;
  @apply object-contain;
  @apply pixel-art;
}

.pokemon-info {
  @apply p-4;
  @apply flex flex-col gap-2;
}

.pokemon-name {
  @apply text-xl font-bold text-[var(--text-primary)];
  @apply flex items-center justify-between;
}

.pokemon-id {
  @apply text-sm font-medium text-[var(--text-secondary)];
}

.pokemon-types {
  @apply flex gap-2 mt-1;
}

.pokemon-type {
  @apply px-3 py-1 text-xs font-medium text-white rounded-full;
}

.pokemon-description {
  @apply mt-3 text-sm text-[var(--text-secondary)];
  @apply line-clamp-3;
}

/* ポケモンリスト */
.pokemon-list {
  @apply pb-[calc(80px+var(--safe-area-inset-bottom))];
}

.pokemon-list-item {
  @apply flex items-center gap-3 px-4 py-3;
  @apply border-b border-gray-100;
  @apply active:bg-gray-100;
  @apply transition-colors duration-[var(--transition-speed)];
}

.pokemon-list-item.selected {
  @apply bg-gray-100;
}

.pokemon-icon {
  @apply w-10 h-10 object-contain;
  @apply pixel-art;
}

/* 下部ナビゲーションバー */
.bottom-nav {
  @apply fixed bottom-0 left-0 right-0;
  @apply flex items-center justify-around;
  @apply bg-white border-t border-gray-200;
  @apply px-2 pt-2 pb-[calc(0.5rem+var(--safe-area-inset-bottom))];
  @apply z-10;
  @apply shadow-[0_-2px_10px_rgba(0,0,0,0.05)];
}

.nav-item {
  @apply flex flex-col items-center;
  @apply px-3 py-2;
  @apply text-[var(--text-secondary)];
  @apply transition-colors duration-[var(--transition-speed)];
}

.nav-item.active {
  @apply text-[var(--primary-color)];
}

.nav-icon {
  @apply text-2xl mb-1;
}

.nav-label {
  @apply text-xs;
}

/* モーダル */
.modal-overlay {
  @apply fixed inset-0 z-50;
  @apply bg-black bg-opacity-50;
  @apply flex items-end justify-center sm:items-center;
  @apply transition-opacity duration-300;
}

.modal-content {
  @apply w-full sm:max-w-md;
  @apply bg-white rounded-t-[var(--border-radius)] sm:rounded-[var(--border-radius)];
  @apply shadow-xl;
  @apply transform transition-transform duration-300;
  @apply max-h-[80vh] overflow-y-auto;
}

.modal-header {
  @apply sticky top-0 z-10;
  @apply flex items-center justify-between;
  @apply px-4 py-3;
  @apply bg-white border-b border-gray-200;
  @apply rounded-t-[var(--border-radius)];
}

.modal-body {
  @apply p-4;
}

.modal-footer {
  @apply sticky bottom-0;
  @apply flex justify-end gap-2;
  @apply px-4 py-3;
  @apply bg-white border-t border-gray-200;
}

/* 設定項目 */
.settings-group {
  @apply mb-6;
}

.settings-title {
  @apply text-sm font-medium text-[var(--text-secondary)];
  @apply mb-2;
}

.settings-item {
  @apply flex items-center justify-between;
  @apply py-3 border-b border-gray-100;
}

.settings-item:last-child {
  @apply border-b-0;
}

.settings-label {
  @apply text-[var(--text-primary)];
}

/* スプライトコントロール */
.sprite-controls {
  @apply flex gap-2 mt-4 overflow-x-auto pb-2;
  @apply snap-x snap-mandatory;
  @apply scrollbar-hide;
}

.sprite-button {
  @apply flex-none px-3 py-2;
  @apply bg-gray-100 rounded-full;
  @apply text-sm text-[var(--text-secondary)];
  @apply transition-colors duration-[var(--transition-speed)];
  @apply snap-center;
}

.sprite-button.active {
  @apply bg-[var(--primary-color)] text-white;
}

/* 世代選択 */
.generation-grid {
  @apply grid grid-cols-3 gap-3;
}

.generation-button {
  @apply flex flex-col items-center justify-center;
  @apply p-3 rounded-[var(--border-radius)];
  @apply bg-gray-100;
  @apply transition-colors duration-[var(--transition-speed)];
}

.generation-button.active {
  @apply bg-[var(--primary-color)] text-white;
}

.generation-number {
  @apply text-lg font-bold mb-1;
}

.starter-icons {
  @apply flex gap-1;
}

.starter-icon {
  @apply w-6 h-6 object-contain;
  @apply pixel-art;
}

/* カラーピッカー */
.color-control-items {
  @apply flex flex-col gap-4;
}

.color-control-item {
  @apply flex items-center justify-between;
}

.color-control-item span {
  @apply text-[var(--text-primary)];
}

.color-control-item input[type="color"] {
  @apply w-10 h-10 rounded-full overflow-hidden;
  @apply border-2 border-gray-200;
  @apply cursor-pointer;
}

/* アニメーション */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}

.fade-in {
  animation: fadeIn 0.3s ease-in-out;
}

.slide-up {
  animation: slideUp 0.3s ease-in-out;
}

/* スクロールバー非表示 */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* タイプ色 */
.type-normal { @apply bg-gray-400; }
.type-fire { @apply bg-red-500; }
.type-water { @apply bg-blue-500; }
.type-electric { @apply bg-yellow-400; }
.type-grass { @apply bg-green-500; }
.type-ice { @apply bg-blue-300; }
.type-fighting { @apply bg-red-700; }
.type-poison { @apply bg-purple-500; }
.type-ground { @apply bg-yellow-600; }
.type-flying { @apply bg-indigo-300; }
.type-psychic { @apply bg-pink-500; }
.type-bug { @apply bg-green-600; }
.type-rock { @apply bg-yellow-700; }
.type-ghost { @apply bg-purple-700; }
.type-dragon { @apply bg-indigo-600; }
.type-dark { @apply bg-gray-700; }
.type-steel { @apply bg-gray-500; }
.type-fairy { @apply bg-pink-300; }

/* レスポンシブデザイン - タブレット以上 */
@media (min-width: 768px) {
  .pokedex {
    @apply flex-row max-w-6xl mx-auto;
    @apply rounded-[var(--border-radius)] overflow-hidden;
    @apply my-8 mx-4;
    @apply shadow-[var(--card-shadow)];
  }
  
  .pokedex-content {
    @apply flex-row;
  }
  
  .pokemon-display {
    @apply w-1/2 border-b-0 border-r border-gray-200;
    @apply h-[calc(100vh-120px)] max-h-[800px];
  }
  
  .pokemon-list-container {
    @apply w-1/2;
  }
  
  .bottom-nav {
    @apply hidden;
  }
  
  .pokemon-list {
    @apply pb-0;
  }
}
